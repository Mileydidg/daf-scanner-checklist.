<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checklist Scanner DAF CF EURO 6</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            padding: 30px;
        }

        .header {
            text-align: center;
            background: linear-gradient(45deg, #2196F3, #1976D2);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
        }

        .header h1 {
            margin: 0;
            font-size: 24px;
        }

        .progress-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .progress-card {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(45deg, #4CAF50, #45a049);
            width: 0%;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 12px;
        }

        .week-section {
            margin-bottom: 30px;
            border: 1px solid #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
        }

        .week-header {
            background: linear-gradient(45deg, #37474f, #263238);
            color: white;
            padding: 15px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .week-header:hover {
            background: linear-gradient(45deg, #455a64, #37474f);
        }

        .week-header.completed {
            background: linear-gradient(45deg, #4CAF50, #45a049);
        }

        .week-header.hito {
            background: linear-gradient(45deg, #ff9800, #f57c00);
        }

        .week-content {
            padding: 20px;
            display: none;
        }

        .week-content.active {
            display: block;
        }

        .task-item {
            display: flex;
            align-items: center;
            padding: 10px;
            margin: 5px 0;
            background: #f8f9fa;
            border-radius: 5px;
            border-left: 4px solid #2196F3;
            transition: all 0.3s ease;
        }

        .task-item.completed {
            background: #e8f5e8;
            border-left-color: #4CAF50;
            text-decoration: line-through;
            opacity: 0.7;
        }

        .task-item.hito {
            background: #fff3e0;
            border-left-color: #ff9800;
            font-weight: bold;
        }

        .task-item.hito.completed {
            background: #e8f5e8;
            border-left-color: #4CAF50;
        }

        .task-checkbox {
            margin-right: 15px;
            transform: scale(1.2);
            cursor: pointer;
        }

        .task-text {
            flex: 1;
        }

        .task-date {
            color: #666;
            font-size: 12px;
            margin-left: 10px;
        }

        .entregable {
            background: #e3f2fd;
            border-left-color: #1976D2;
            font-weight: bold;
        }

        .entregable.completed {
            background: #e8f5e8;
        }

        .toggle-arrow {
            transition: transform 0.3s ease;
        }

        .toggle-arrow.rotated {
            transform: rotate(90deg);
        }

        .stats {
            display: flex;
            justify-content: space-around;
            text-align: center;
            margin: 20px 0;
        }

        .stat-item {
            flex: 1;
        }

        .stat-number {
            font-size: 24px;
            font-weight: bold;
            color: #1976D2;
        }

        .reset-btn, .export-btn {
            background: linear-gradient(45deg, #f44336, #d32f2f);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px;
            font-weight: bold;
        }

        .export-btn {
            background: linear-gradient(45deg, #4CAF50, #45a049);
        }

        .reset-btn:hover {
            background: linear-gradient(45deg, #d32f2f, #c62828);
        }

        .export-btn:hover {
            background: linear-gradient(45deg, #45a049, #388e3c);
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
                margin: 10px;
            }
            
            .progress-section {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>‚úÖ CHECKLIST EJECUTABLE</h1>
            <h2>Scanner DAF CF EURO 6 - Proyecto Ruben Pinto</h2>
            <p>22 agosto - 20 noviembre, 2025 (90 d√≠as)</p>
        </div>

        <div class="progress-section">
            <div class="progress-card">
                <h3>üéØ Progreso General</h3>
                <div class="progress-bar">
                    <div class="progress-fill" id="generalProgress">0%</div>
                </div>
                <div id="generalStats">0 de 50 tareas</div>
            </div>
            <div class="progress-card">
                <h3>üèÜ Hitos Completados</h3>
                <div class="progress-bar">
                    <div class="progress-fill" id="hitoProgress">0%</div>
                </div>
                <div id="hitoStats">0 de 6 hitos</div>
            </div>
            <div class="progress-card">
                <h3>üì¶ Entregables</h3>
                <div class="progress-bar">
                    <div class="progress-fill" id="entregableProgress">0%</div>
                </div>
                <div id="entregableStats">0 de 16 entregables</div>
            </div>
        </div>

        <div class="stats">
            <div class="stat-item">
                <div class="stat-number" id="totalTasks">50</div>
                <div>Total Tareas</div>
            </div>
            <div class="stat-item">
                <div class="stat-number" id="completedTasks">0</div>
                <div>Completadas</div>
            </div>
            <div class="stat-item">
                <div class="stat-number" id="remainingTasks">50</div>
                <div>Pendientes</div>
            </div>
        </div>

        <!-- MES 1: HARDWARE Y FIRMWARE -->
        
        <div class="week-section">
            <div class="week-header" onclick="toggleWeek('week1')">
                <span>üìÖ SEMANA 1 (22-28 Agosto) - Investigaci√≥n y Dise√±o Inicial</span>
                <span class="toggle-arrow">‚ñ∂</span>
            </div>
            <div class="week-content" id="week1">
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">üöÄ Inicio oficial del proyecto</span>
                    <span class="task-date">22 Ago</span>
                </div>
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">Investigaci√≥n protocolo J1939 espec√≠fico para DAF CF Euro 6</span>
                    <span class="task-date">22-23 Ago</span>
                </div>
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">An√°lisis de pinout y conectores OBD DAF</span>
                    <span class="task-date">24-25 Ago</span>
                </div>
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">Dise√±o esquem√°tico inicial del circuito ESP32-S3 + MCP2515</span>
                    <span class="task-date">26-28 Ago</span>
                </div>
                <div class="task-item entregable">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">üìã ENTREGABLE: Esquem√°tico b√°sico validado</span>
                    <span class="task-date">28 Ago</span>
                </div>
            </div>
        </div>

        <div class="week-section">
            <div class="week-header" onclick="toggleWeek('week2')">
                <span>üìÖ SEMANA 2 (29 Ago - 4 Sep) - Dise√±o de PCB</span>
                <span class="toggle-arrow">‚ñ∂</span>
            </div>
            <div class="week-content" id="week2">
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">Selecci√≥n final de componentes electr√≥nicos</span>
                    <span class="task-date">29-30 Ago</span>
                </div>
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">Dise√±o del PCB personalizado</span>
                    <span class="task-date">2-3 Sep</span>
                </div>
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">Revisi√≥n y validaci√≥n del dise√±o de hardware</span>
                    <span class="task-date">4 Sep</span>
                </div>
                <div class="task-item entregable">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">üìã ENTREGABLE: Dise√±o PCB completo</span>
                    <span class="task-date">4 Sep</span>
                </div>
                <div class="task-item hito">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">üéØ HITO 1: Dise√±o de hardware completado</span>
                    <span class="task-date">4 Sep</span>
                </div>
            </div>
        </div>

        <div class="week-section">
            <div class="week-header" onclick="toggleWeek('week3')">
                <span>üìÖ SEMANA 3 (5-11 Sep) - Pedidos y Firmware B√°sico</span>
                <span class="toggle-arrow">‚ñ∂</span>
            </div>
            <div class="week-content" id="week3">
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">üì¶ Pedido de componentes electr√≥nicos y PCB</span>
                    <span class="task-date">5-6 Sep</span>
                </div>
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">Desarrollo del firmware b√°sico ESP32 (comunicaci√≥n CAN)</span>
                    <span class="task-date">7-9 Sep</span>
                </div>
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">Configuraci√≥n inicial Bluetooth y protocolo de comunicaci√≥n</span>
                    <span class="task-date">10-11 Sep</span>
                </div>
                <div class="task-item entregable">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">üìã ENTREGABLE: Firmware b√°sico funcional</span>
                    <span class="task-date">11 Sep</span>
                </div>
                <div class="task-item" style="background: #ffebee; border-left-color: #f44336;">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">‚ö†Ô∏è ALERTA: Seguimiento llegada componentes</span>
                    <span class="task-date">9 Sep</span>
                </div>
            </div>
        </div>

        <div class="week-section">
            <div class="week-header" onclick="toggleWeek('week4')">
                <span>üìÖ SEMANA 4 (12-18 Sep) - Espera y Ensamblaje</span>
                <span class="toggle-arrow">‚ñ∂</span>
            </div>
            <div class="week-content" id="week4">
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">‚è≥ Espera de llegada de componentes (buffer 5 d√≠as)</span>
                    <span class="task-date">12-16 Sep</span>
                </div>
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">üîß Ensamblaje del primer prototipo de hardware</span>
                    <span class="task-date">17-18 Sep</span>
                </div>
                <div class="task-item entregable">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">üìã ENTREGABLE: Prototipo armado y listo</span>
                    <span class="task-date">18 Sep</span>
                </div>
            </div>
        </div>

        <div class="week-section">
            <div class="week-header" onclick="toggleWeek('week5')">
                <span>üìÖ SEMANA 5 (19-21 Sep) - Validaci√≥n del Prototipo</span>
                <span class="toggle-arrow">‚ñ∂</span>
            </div>
            <div class="week-content" id="week5">
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">Pruebas iniciales de hardware y comunicaci√≥n</span>
                    <span class="task-date">19-21 Sep</span>
                </div>
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">Validaci√≥n de comunicaci√≥n CAN b√°sica</span>
                    <span class="task-date">19-21 Sep</span>
                </div>
                <div class="task-item entregable">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">üìã ENTREGABLE: Prototipo validado</span>
                    <span class="task-date">21 Sep</span>
                </div>
                <div class="task-item hito">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">üéØ HITO 2: Prototipo funcional</span>
                    <span class="task-date">21 Sep</span>
                </div>
            </div>
        </div>

        <!-- MES 2: SOFTWARE Y PRUEBAS -->

        <div class="week-section">
            <div class="week-header" onclick="toggleWeek('week6')">
                <span>üìÖ SEMANA 6 (22-28 Sep) - Software PC B√°sico</span>
                <span class="toggle-arrow">‚ñ∂</span>
            </div>
            <div class="week-content" id="week6">
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">Desarrollo software PC (interfaz b√°sica)</span>
                    <span class="task-date">22-23 Sep</span>
                </div>
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">Implementaci√≥n conectividad USB/Bluetooth</span>
                    <span class="task-date">24-25 Sep</span>
                </div>
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">Desarrollo del m√≥dulo de lectura de DTCs gen√©ricos J1939</span>
                    <span class="task-date">26-28 Sep</span>
                </div>
                <div class="task-item entregable">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">üìã ENTREGABLE: Software PC b√°sico funcional</span>
                    <span class="task-date">28 Sep</span>
                </div>
            </div>
        </div>

        <div class="week-section">
            <div class="week-header" onclick="toggleWeek('week7')">
                <span>üìÖ SEMANA 7 (29 Sep - 5 Oct) - Base de Datos y Par√°metros</span>
                <span class="toggle-arrow">‚ñ∂</span>
            </div>
            <div class="week-content" id="week7">
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">Implementaci√≥n de base de datos de c√≥digos DAF</span>
                    <span class="task-date">29-30 Sep</span>
                </div>
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">Desarrollo del m√≥dulo de par√°metros en vivo</span>
                    <span class="task-date">1-2 Oct</span>
                </div>
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">Integraci√≥n firmware-aplicaci√≥n PC</span>
                    <span class="task-date">3-5 Oct</span>
                </div>
                <div class="task-item entregable">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">üìã ENTREGABLE: Integraci√≥n b√°sica completa</span>
                    <span class="task-date">5 Oct</span>
                </div>
                <div class="task-item hito">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">üéØ HITO 3: Integraci√≥n b√°sica software-hardware</span>
                    <span class="task-date">5 Oct</span>
                </div>
            </div>
        </div>

        <div class="week-section">
            <div class="week-header" onclick="toggleWeek('week8')">
                <span>üìÖ SEMANA 8 (6-12 Oct) - Funciones de Diagn√≥stico</span>
                <span class="toggle-arrow">‚ñ∂</span>
            </div>
            <div class="week-content" id="week8">
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">Desarrollo de funciones de diagn√≥stico (borrar DTCs, info ECUs)</span>
                    <span class="task-date">6-7 Oct</span>
                </div>
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">Implementaci√≥n de generaci√≥n de reportes PDF</span>
                    <span class="task-date">8-9 Oct</span>
                </div>
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">Desarrollo de exportaci√≥n de datos a CSV</span>
                    <span class="task-date">10-12 Oct</span>
                </div>
                <div class="task-item entregable">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">üìã ENTREGABLE: Funciones completas implementadas</span>
                    <span class="task-date">12 Oct</span>
                </div>
                <div class="task-item" style="background: #ffebee; border-left-color: #f44336;">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">‚ö†Ô∏è ALERTA: Confirmar acceso veh√≠culo DAF</span>
                    <span class="task-date">7 Oct</span>
                </div>
            </div>
        </div>

        <div class="week-section">
            <div class="week-header" onclick="toggleWeek('week9')">
                <span>üìÖ SEMANA 9 (13-19 Oct) - Optimizaci√≥n y Primeras Pruebas DAF</span>
                <span class="toggle-arrow">‚ñ∂</span>
            </div>
            <div class="week-content" id="week9">
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">Optimizaci√≥n software PC y interfaz mejorada</span>
                    <span class="task-date">13-14 Oct</span>
                </div>
                <div class="task-item" style="background: #fff3e0; border-left-color: #ff9800;">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">üöõ PRIMERAS PRUEBAS con veh√≠culo DAF CF Euro 6</span>
                    <span class="task-date">15-16 Oct</span>
                </div>
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">Correcci√≥n de bugs iniciales y optimizaci√≥n</span>
                    <span class="task-date">17-19 Oct</span>
                </div>
                <div class="task-item entregable">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">üìã ENTREGABLE: Software completo optimizado</span>
                    <span class="task-date">19 Oct</span>
                </div>
            </div>
        </div>

        <div class="week-section">
            <div class="week-header" onclick="toggleWeek('week10')">
                <span>üìÖ SEMANA 10 (20-21 Oct) - Integraci√≥n Completa</span>
                <span class="toggle-arrow">‚ñ∂</span>
            </div>
            <div class="week-content" id="week10">
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">Integraci√≥n completa hardware-software</span>
                    <span class="task-date">20-21 Oct</span>
                </div>
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">Testing integral del sistema</span>
                    <span class="task-date">20-21 Oct</span>
                </div>
                <div class="task-item entregable">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">üìã ENTREGABLE: Sistema completamente integrado</span>
                    <span class="task-date">21 Oct</span>
                </div>
                <div class="task-item hito">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">üéØ HITO 4: Sistema completo integrado</span>
                    <span class="task-date">21 Oct</span>
                </div>
            </div>
        </div>

        <!-- MES 3: PRUEBAS Y ENTREGA -->

        <div class="week-section">
            <div class="week-header" onclick="toggleWeek('week11')">
                <span>üìÖ SEMANA 11 (22-28 Oct) - Testing Extensivo</span>
                <span class="toggle-arrow">‚ñ∂</span>
            </div>
            <div class="week-content" id="week11">
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">Testing con simulador CAN extensivo</span>
                    <span class="task-date">22-25 Oct</span>
                </div>
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">Validaci√≥n de todos los par√°metros y c√≥digos de falla</span>
                    <span class="task-date">26-28 Oct</span>
                </div>
                <div class="task-item entregable">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">üìã ENTREGABLE: Testing completo validado</span>
                    <span class="task-date">28 Oct</span>
                </div>
            </div>
        </div>

        <div class="week-section">
            <div class="week-header" onclick="toggleWeek('week12')">
                <span>üìÖ SEMANA 12 (29 Oct - 4 Nov) - Pruebas de Campo Cr√≠ticas</span>
                <span class="toggle-arrow">‚ñ∂</span>
            </div>
            <div class="week-content" id="week12">
                <div class="task-item" style="background: #fff3e0; border-left-color: #ff9800;">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">üöõ PRUEBAS DE CAMPO con cami√≥n DAF CF Euro 6</span>
                    <span class="task-date">29-31 Oct</span>
                </div>
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">Validaci√≥n del sistema AdBlue y par√°metros de emisiones</span>
                    <span class="task-date">31 Oct - 1 Nov</span>
                </div>
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">Ajustes basados en pruebas de campo</span>
                    <span class="task-date">2-4 Nov</span>
                </div>
                <div class="task-item entregable">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">üìã ENTREGABLE: Validaci√≥n de campo exitosa</span>
                    <span class="task-date">4 Nov</span>
                </div>
                <div class="task-item hito">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">üéØ HITO 5: Pruebas de campo exitosas</span>
                    <span class="task-date">4 Nov</span>
                </div>
            </div>
        </div>

        <div class="week-section">
            <div class="week-header" onclick="toggleWeek('week13')">
                <span>üìÖ SEMANA 13 (5-11 Nov) - Optimizaci√≥n Final</span>
                <span class="toggle-arrow">‚ñ∂</span>
            </div>
            <div class="week-content" id="week13">
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">Optimizaci√≥n de la tasa de actualizaci√≥n (10Hz)</span>
                    <span class="task-date">5-6 Nov</span>
                </div>
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">Pruebas de estabilidad y rendimiento</span>
                    <span class="task-date">7-8 Nov</span>
                </div>
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">Preparaci√≥n de documentaci√≥n t√©cnica y manual de usuario</span>
                    <span class="task-date">9-11 Nov</span>
                </div>
                <div class="task-item entregable">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">üìã ENTREGABLE: Documentaci√≥n completa</span>
                    <span class="task-date">11 Nov</span>
                </div>
            </div>
        </div>

        <div class="week-section">
            <div class="week-header" onclick="toggleWeek('week14')">
                <span>üìÖ SEMANA 14 (12-18 Nov) - Preparaci√≥n Final</span>
                <span class="toggle-arrow">‚ñ∂</span>
            </div>
            <div class="week-content" id="week14">
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">Preparaci√≥n de entrega final</span>
                    <span class="task-date">12-13 Nov</span>
                </div>
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">Testing final completo del sistema</span>
                    <span class="task-date">14-15 Nov</span>
                </div>
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">Empaque b√°sico y preparaci√≥n de materiales</span>
                    <span class="task-date">16-18 Nov</span>
                </div>
                <div class="task-item entregable">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">üìã ENTREGABLE: Producto final listo</span>
                    <span class="task-date">18 Nov</span>
                </div>
            </div>
        </div>

        <div class="week-section">
            <div class="week-header" onclick="toggleWeek('week15')">
                <span>üìÖ SEMANA 15 (19-20 Nov) - ENTREGA FINAL</span>
                <span class="toggle-arrow">‚ñ∂</span>
            </div>
            <div class="week-content" id="week15">
                <div class="task-item" style="background: #e8f5e8; border-left-color: #4CAF50;">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">üöÄ ENTREGA FINAL del scanner + software + documentaci√≥n</span>
                    <span class="task-date">19 Nov</span>
                </div>
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">Capacitaci√≥n al cliente (Ruben Pinto)</span>
                    <span class="task-date">20 Nov</span>
                </div>
                <div class="task-item">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">Cierre oficial del proyecto</span>
                    <span class="task-date">20 Nov</span>
                </div>
                <div class="task-item hito">
                    <input type="checkbox" class="task-checkbox" onchange="updateProgress()">
                    <span class="task-text">üéØ HITO 6: PROYECTO COMPLETADO ‚úÖ</span>
                    <span class="task-date">20 Nov</span>
                </div>
            </div>
        </div>

        <div style="margin-top: 30px; text-align: center;">
            <button class="export-btn" onclick="exportProgress()">üìÑ Exportar Progreso</button>
            <button class="reset-btn" onclick="resetProgress()">üîÑ Reiniciar Todo</button>
        </div>

        <div style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px; font-size: 12px; color: #666;">
            <strong>üíæ Progreso guardado autom√°ticamente en tu navegador</strong><br>
            Tus checkmarks se mantienen cada vez que abras esta p√°gina. Para compartir el progreso, usa el bot√≥n "Exportar Progreso".
        </div>
    </div>

    <script>
        // Cargar progreso guardado al iniciar
        document.addEventListener('DOMContentLoaded', function() {
            loadProgress();
            updateProgress();
        });

        function toggleWeek(weekId) {
            const content = document.getElementById(weekId);
            const header = content.previousElementSibling;
            const arrow = header.querySelector('.toggle-arrow');
            
            if (content.classList.contains('active')) {
                content.classList.remove('active');
                arrow.classList.remove('rotated');
            } else {
                content.classList.add('active');
                arrow.classList.add('rotated');
            }
        }

        function updateProgress() {
            const checkboxes = document.querySelectorAll('.task-checkbox');
            const totalTasks = checkboxes.length;
            let completedTasks = 0;
            let completedHitos = 0;
            let completedEntregables = 0;
            
            // Contar hitos y entregables
            const totalHitos = 6;
            const totalEntregables = 16;

            checkboxes.forEach(function(checkbox, index) {
                const taskItem = checkbox.closest('.task-item');
                
                if (checkbox.checked) {
                    completedTasks++;
                    taskItem.classList.add('completed');
                    
                    if (taskItem.classList.contains('hito')) {
                        completedHitos++;
                    }
                    if (taskItem.classList.contains('entregable')) {
                        completedEntregables++;
                    }
                } else {
                    taskItem.classList.remove('completed');
                }
            });

            // Actualizar estad√≠sticas
            document.getElementById('totalTasks').textContent = totalTasks;
            document.getElementById('completedTasks').textContent = completedTasks;
            document.getElementById('remainingTasks').textContent = totalTasks - completedTasks;

            // Actualizar barras de progreso
            const generalPercent = Math.round((completedTasks / totalTasks) * 100);
            const hitoPercent = Math.round((completedHitos / totalHitos) * 100);
            const entregablePercent = Math.round((completedEntregables / totalEntregables) * 100);

            document.getElementById('generalProgress').style.width = generalPercent + '%';
            document.getElementById('generalProgress').textContent = generalPercent + '%';
            document.getElementById('generalStats').textContent = completedTasks + ' de ' + totalTasks + ' tareas';

            document.getElementById('hitoProgress').style.width = hitoPercent + '%';
            document.getElementById('hitoProgress').textContent = hitoPercent + '%';
            document.getElementById('hitoStats').textContent = completedHitos + ' de ' + totalHitos + ' hitos';

            document.getElementById('entregableProgress').style.width = entregablePercent + '%';
            document.getElementById('entregableProgress').textContent = entregablePercent + '%';
            document.getElementById('entregableStats').textContent = completedEntregables + ' de ' + totalEntregables + ' entregables';

            // Actualizar headers de semanas completadas
            updateWeekHeaders();
            
            // Guardar progreso
            saveProgress();
        }

        function updateWeekHeaders() {
            const weekSections = document.querySelectorAll('.week-section');
            
            weekSections.forEach(function(section) {
                const header = section.querySelector('.week-header');
                const checkboxes = section.querySelectorAll('.task-checkbox');
                const totalInWeek = checkboxes.length;
                let completedInWeek = 0;

                checkboxes.forEach(function(checkbox) {
                    if (checkbox.checked) {
                        completedInWeek++;
                    }
                });

                // Marcar semana como completada si todas las tareas est√°n hechas
                if (completedInWeek === totalInWeek && totalInWeek > 0) {
                    header.classList.add('completed');
                } else {
                    header.classList.remove('completed');
                }
                
                // Marcar semanas con hitos
                const hasHito = section.querySelector('.task-item.hito');
                if (hasHito && hasHito.querySelector('.task-checkbox').checked) {
                    header.classList.add('hito');
                }
            });
        }

        function saveProgress() {
            const checkboxes = document.querySelectorAll('.task-checkbox');
            const progress = [];
            
            checkboxes.forEach(function(checkbox, index) {
                progress.push(checkbox.checked);
            });
            
            localStorage.setItem('daf_scanner_progress', JSON.stringify(progress));
        }

        function loadProgress() {
            const saved = localStorage.getItem('daf_scanner_progress');
            if (saved) {
                const progress = JSON.parse(saved);
                const checkboxes = document.querySelectorAll('.task-checkbox');
                
                checkboxes.forEach(function(checkbox, index) {
                    if (progress[index] !== undefined) {
                        checkbox.checked = progress[index];
                    }
                });
            }
        }

        function resetProgress() {
            if (confirm('¬øEst√°s seguro de que quieres reiniciar todo el progreso? Esta acci√≥n no se puede deshacer.')) {
                const checkboxes = document.querySelectorAll('.task-checkbox');
                checkboxes.forEach(function(checkbox) {
                    checkbox.checked = false;
                });
                updateProgress();
                localStorage.removeItem('daf_scanner_progress');
                alert('Progreso reiniciado exitosamente.');
            }
        }

        function exportProgress() {
            const checkboxes = document.querySelectorAll('.task-checkbox');
            let completedTasks = [];
            let pendingTasks = [];

            checkboxes.forEach(function(checkbox) {
                const taskText = checkbox.nextElementSibling.textContent;
                const taskDate = checkbox.parentElement.querySelector('.task-date').textContent;
                
                if (checkbox.checked) {
                    completedTasks.push(`‚úÖ ${taskText} (${taskDate})`);
                } else {
                    pendingTasks.push(`‚è≥ ${taskText} (${taskDate})`);
                }
            });

            const exportData = `REPORTE DE PROGRESO - SCANNER DAF CF EURO 6
Cliente: Ruben Pinto
Fecha del reporte: ${new Date().toLocaleDateString('es-ES')}

RESUMEN:
- Total de tareas: ${checkboxes.length}
- Tareas completadas: ${completedTasks.length}
- Tareas pendientes: ${pendingTasks.length}
- Progreso general: ${Math.round((completedTasks.length / checkboxes.length) * 100)}%

TAREAS COMPLETADAS:
${completedTasks.join('\n')}

TAREAS PENDIENTES:
${pendingTasks.join('\n')}`;

            // Crear archivo descargable
            const blob = new Blob([exportData], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `Progreso_DAF_Scanner_${new Date().toISOString().split('T')[0]}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>
